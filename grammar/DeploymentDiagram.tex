\documentclass[pdftex]{article}

\usepackage[tstt]{backnaur}
\usepackage[active, tightpage]{preview}
\usepackage{lmodern}
\PreviewEnvironment{bnf}
\begin{document}
\small
\begin{bnf}
\bnfprod{DepDia}{%
  \bnfpn{device}+
  \bnfsp
  \bnfpn{relation}+
}\\
\bnfprod{device}{%
  \bnfts{device}
  \bnfsp
  \bnfpn{devType}
  \bnfsp
  \bnfpn{ident}
  \bnfsp
  \bnfpn{exenv}+
  \bnfsp
  \bnfpn{properties}?
}\\
\bnfprod{devType}{%
  \bnfts{server}
  \bnfor
  \bnfts{device}
  \bnfor
  \bnfts{workstation}
  \bnfor
  \bnfts{mobile}
  \bnfor
  \bnfts{embed}
}\\
\bnfprod{envs}{%
  \bnfts{env}
  \bnfsp
  \bnfpn{envType}
  \bnfsp
  \bnfpn{ident}
  \bnfsp
  \bnfpn{artifact}+
  \bnfsp
  \bnfpn{properties}?
}\\
\bnfprod{envType}{%
  \bnfts{os}
  \bnfor
  \bnfts{engine}
  \bnfor
  \bnfts{container}
  \bnfor
  \bnfts{server}
  \bnfor
  \bnfts{application}
}\\
\bnfprod{artifact}{%
  \bnfts{artifact}
  \bnfsp
  \bnfpn{artType}
  \bnfsp
  \bnfpn{ident}
  \bnfsp
  (\bnfts{with}\bnfsp\bnfpn{specification})?
}\\
\bnfprod{artType}{%
  \bnfts{doc}
  \bnfor
  \bnfts{src}
  \bnfor
  \bnfts{lib}
  \bnfor
  \bnfts{exe}
  \bnfor
  \bnfts{script}
  \bnfor
  \bnfts{app}
}\\
\bnfprod{specification}{%
  \bnfts{spec}
  \bnfsp
  \bnfpn{ident}
  \bnfsp
  \bnfpn{kvBody}?
}\\
\bnfprod{relation}{%
  \bnfpn{ident} %% device/exe
  \bnfsp
  \bnfts{comsWith}
  \bnfsp
  \bnfpn{ident} %% device/exe
  \bnfsp
  \bnfts{via}
  \bnfsp
  \bnfpn{string} %% protocol
}\\
\bnfprod{properties}{%
  \bnfts{properties}
  \bnfsp
  \bnfpn{kvBody}
}\\
\bnfprod{kvBody}{%
  \bnfts{`\{'}
  \bnfsp
  \bnfpn{kvpair}
  \bnfsp
  (\bnfts{`,'}\bnfsp\bnfpn{kvpair})+
  \bnfts{`\}'}
}\\
\bnfprod{kvpair}{%
  \bnfpn{string}
  \bnfts{`:'}
  \bnfpn{lit\_string}
}
\end{bnf}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
