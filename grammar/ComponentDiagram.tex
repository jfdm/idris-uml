\documentclass[pdftex]{article}

\usepackage{backnaur}
\usepackage[active, tightpage]{preview}

\PreviewEnvironment{bnf}
\begin{document}

\begin{bnf}
\bnfprod{CompDia}{%
  \bnfpn{component}+
}\\
\bnfprod{component}{%
 \bnfpn{provides}+
 \bnfsp
 (\bnfpn{requires}+)?
 \bnfsp
 (\bnfpn{component}+)?
}\\
\bnfprod{provides}{%
  \bnfts{provides}
  \bnfsp
  \bnfpn{ident}
  \bnfsp
  (\bnfts{from}\bnfsp\bnfpn(ident))?
}\\
\bnfprod{requires}{%
  \bnfts{requires}
  \bnfsp
  \bnfpn{ident}
  \bnfsp
  \bnfts{from}
  \bnfsp
  \bnfpn{ident}
}
\end{bnf}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
